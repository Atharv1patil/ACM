import{r as d,j as T}from"./vendor-react-2YahoM9x.js";import{i as Pt,g as _e,s as he,a as de,b as jt,c as it,d as Xe,e as Ye,f as Ke,h as qe,j as Je,k as Ze,l as me,m as Qe,n as tn,p as en,q as nn,S as pe,H as ge,F as W,t as sn,u as ye,v as tt,w as wt,x as C,y as ve,z as et,A as xt,B as on,C as _,D as Et,E as nt,G as Pe,I as rn,J as k,K as an,L as ln,M as cn,N as Ft,O as un,Q as fn,R as St,T as hn,U as dn,V as B,W as mn,X as pn,Y as we,Z as gn,_ as yn,$ as vn,a0 as Pn,a1 as xe,a2 as wn,a3 as Ee,a4 as Ht,a5 as G,a6 as ut,a7 as xn,a8 as Se,a9 as Ce,aa as Me,ab as En,ac as Sn,ad as Cn,ae as Mn,af as An,ag as st,ah as Ln,ai as Vn,aj as bn,ak as Dn,al as Tn}from"./vendor-BT0DJGGz.js";const Lt=d.createContext({});function R(t){const e=d.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ae=typeof window<"u",rt=Ae?d.useLayoutEffect:d.useEffect,at=d.createContext(null),lt=d.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Gt(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function In(...t){return e=>{let n=!1;const s=t.map(o=>{const i=Gt(o,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<s.length;o++){const i=s[o];typeof i=="function"?i():Gt(t[o],null)}}}}function kn(...t){return d.useCallback(In(...t),t)}class Rn extends d.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,o=Pt(s)&&s.offsetWidth||0,i=Pt(s)&&s.offsetHeight||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=o-r.width-r.left,r.bottom=i-r.height-r.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Wn({children:t,isPresent:e,anchorX:n,anchorY:s,root:o,pop:i}){const r=d.useId(),a=d.useRef(null),c=d.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=d.useContext(lt),h=t.props?.ref??t?.ref,f=kn(a,h);return d.useInsertionEffect(()=>{const{width:u,height:p,top:m,left:P,right:y,bottom:g}=c.current;if(e||i===!1||!a.current||!u||!p)return;const v=n==="left"?`left: ${P}`:`right: ${y}`,E=s==="bottom"?`bottom: ${g}`:`top: ${m}`;a.current.dataset.motionPopId=r;const x=document.createElement("style");l&&(x.nonce=l);const M=o??document.head;return M.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${p}px !important;
            ${v}px !important;
            ${E}px !important;
          }
        `),()=>{M.contains(x)&&M.removeChild(x)}},[e]),T.jsx(Rn,{isPresent:e,childRef:a,sizeRef:c,pop:i,children:i===!1?t:d.cloneElement(t,{ref:f})})}const On=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:i,mode:r,anchorX:a,anchorY:c,root:l})=>{const h=R(jn),f=d.useId();let u=!0,p=d.useMemo(()=>(u=!1,{id:f,initial:e,isPresent:n,custom:o,onExitComplete:m=>{h.set(m,!0);for(const P of h.values())if(!P)return;s&&s()},register:m=>(h.set(m,!1),()=>h.delete(m))}),[n,h,s]);return i&&u&&(p={...p}),d.useMemo(()=>{h.forEach((m,P)=>h.set(P,!1))},[n]),d.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),t=T.jsx(Wn,{pop:r==="popLayout",isPresent:n,anchorX:a,anchorY:c,root:l,children:t}),T.jsx(at.Provider,{value:p,children:t})};function jn(){return new Map}function Le(t=!0){const e=d.useContext(at);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,i=d.useId();d.useEffect(()=>{if(t)return o(i)},[t]);const r=d.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,r]:[!0]}const q=t=>t.key||"";function Bt(t){const e=[];return d.Children.forEach(t,n=>{d.isValidElement(n)&&e.push(n)}),e}const jo=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:i="sync",propagate:r=!1,anchorX:a="left",anchorY:c="top",root:l})=>{const[h,f]=Le(r),u=d.useMemo(()=>Bt(t),[t]),p=r&&!h?[]:u.map(q),m=d.useRef(!0),P=d.useRef(u),y=R(()=>new Map),g=d.useRef(new Set),[v,E]=d.useState(u),[x,M]=d.useState(u);rt(()=>{m.current=!1,P.current=u;for(let S=0;S<x.length;S++){const w=q(x[S]);p.includes(w)?(y.delete(w),g.current.delete(w)):y.get(w)!==!0&&y.set(w,!1)}},[x,p.length,p.join("-")]);const L=[];if(u!==v){let S=[...u];for(let w=0;w<x.length;w++){const V=x[w],A=q(V);p.includes(A)||(S.splice(w,0,V),L.push(V))}return i==="wait"&&L.length&&(S=L),M(Bt(S)),E(u),null}const{forceRender:b}=d.useContext(Lt);return T.jsx(T.Fragment,{children:x.map(S=>{const w=q(S),V=r&&!h?!1:u===x||p.includes(w),A=()=>{if(g.current.has(w))return;if(g.current.add(w),y.has(w))y.set(w,!0);else return;let O=!0;y.forEach(j=>{j||(O=!1)}),O&&(b?.(),M(P.current),r&&f?.(),s&&s())};return T.jsx(On,{isPresent:V,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:i,root:l,onExitComplete:V?void 0:A,anchorX:a,anchorY:c,children:S},w)})})},Ve=d.createContext({strict:!1}),Nt={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let zt=!1;function Fn(){if(zt)return;const t={};for(const e in Nt)t[e]={isEnabled:n=>Nt[e].some(s=>!!n[s])};he(t),zt=!0}function be(){return Fn(),_e()}function Hn(t){const e=be();for(const n in t)e[n]={...e[n],...t[n]};he(e)}const Gn=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function ot(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Gn.has(t)}let De=t=>!ot(t);function Bn(t){typeof t=="function"&&(De=e=>e.startsWith("on")?!ot(e):t(e))}try{Bn(require("@emotion/is-prop-valid").default)}catch{}function Nn(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(De(o)||n===!0&&ot(o)||!e&&!ot(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const ct=d.createContext({});function zn(t,e){if(de(t)){const{initial:n,animate:s}=t;return{initial:n===!1||jt(n)?n:void 0,animate:jt(s)?s:void 0}}return t.inherit!==!1?e:{}}function Un(t){const{initial:e,animate:n}=zn(t,d.useContext(ct));return d.useMemo(()=>({initial:e,animate:n}),[Ut(e),Ut(n)])}function Ut(t){return Array.isArray(t)?t.join(" "):t}const Vt=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Te(t,e,n){for(const s in e)!it(e[s])&&!Xe(s,n)&&(t[s]=e[s])}function $n({transformTemplate:t},e){return d.useMemo(()=>{const n=Vt();return Ye(n,e,t),Object.assign({},n.vars,n.style)},[e])}function _n(t,e){const n=t.style||{},s={};return Te(s,n,t),Object.assign(s,$n(t,e)),s}function Xn(t,e){const n={},s=_n(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Ie=()=>({...Vt(),attrs:{}});function Yn(t,e,n,s){const o=d.useMemo(()=>{const i=Ie();return Ke(i,e,qe(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Te(i,t.style,t),o.style={...i,...o.style}}return o}const Kn=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bt(t){return typeof t!="string"||t.includes("-")?!1:!!(Kn.indexOf(t)>-1||/[A-Z]/u.test(t))}function qn(t,e,n,{latestValues:s},o,i=!1,r){const c=(r??bt(t)?Yn:Xn)(e,s,o,t),l=Nn(e,typeof t=="string",i),h=t!==d.Fragment?{...l,...c,ref:n}:{},{children:f}=e,u=d.useMemo(()=>it(f)?f.get():f,[f]);return d.createElement(t,{...h,children:u})}function Jn({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:Zn(n,s,o,t),renderState:e()}}function Zn(t,e,n,s){const o={},i=s(t,{});for(const u in i)o[u]=Je(i[u]);let{initial:r,animate:a}=t;const c=de(t),l=Ze(t);e&&l&&!c&&t.inherit!==!1&&(r===void 0&&(r=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||r===!1;const f=h?a:r;if(f&&typeof f!="boolean"&&!me(f)){const u=Array.isArray(f)?f:[f];for(let p=0;p<u.length;p++){const m=Qe(t,u[p]);if(m){const{transitionEnd:P,transition:y,...g}=m;for(const v in g){let E=g[v];if(Array.isArray(E)){const x=h?E.length-1:0;E=E[x]}E!==null&&(o[v]=E)}for(const v in P)o[v]=P[v]}}}return o}const ke=t=>(e,n)=>{const s=d.useContext(ct),o=d.useContext(at),i=()=>Jn(t,e,s,o);return n?i():R(i)},Qn=ke({scrapeMotionValuesFromProps:tn,createRenderState:Vt}),ts=ke({scrapeMotionValuesFromProps:en,createRenderState:Ie}),es=Symbol.for("motionComponentSymbol");function ns(t,e,n){const s=d.useRef(n);d.useInsertionEffect(()=>{s.current=n});const o=d.useRef(null);return d.useCallback(i=>{i&&t.onMount?.(i),e&&(i?e.mount(i):e.unmount());const r=s.current;if(typeof r=="function")if(i){const a=r(i);typeof a=="function"&&(o.current=a)}else o.current?(o.current(),o.current=null):r(i);else r&&(r.current=i)},[e])}const Re=d.createContext({});function H(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ss(t,e,n,s,o,i){const{visualElement:r}=d.useContext(ct),a=d.useContext(Ve),c=d.useContext(at),l=d.useContext(lt),h=l.reducedMotion,f=l.skipAnimations,u=d.useRef(null),p=d.useRef(!1);s=s||a.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:r,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h,skipAnimations:f,isSVG:i}),p.current&&u.current&&(u.current.manuallyAnimateOnMount=!0));const m=u.current,P=d.useContext(Re);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&os(u.current,n,o,P);const y=d.useRef(!1);d.useInsertionEffect(()=>{m&&y.current&&m.update(n,c)});const g=n[nn],v=d.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return rt(()=>{p.current=!0,m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),v.current&&m.animationState&&m.animationState.animateChanges())}),d.useEffect(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),v.current=!1),m.enteringChildren=void 0)}),m}function os(t,e,n,s){const{layoutId:o,layout:i,drag:r,dragConstraints:a,layoutScroll:c,layoutRoot:l,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:We(t.parent)),t.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:!!r||a&&H(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:h,layoutScroll:c,layoutRoot:l})}function We(t){if(t)return t.options.allowProjection!==!1?t.projection:We(t.parent)}function ft(t,{forwardMotionProps:e=!1,type:n}={},s,o){s&&Hn(s);const i=n?n==="svg":bt(t),r=i?ts:Qn;function a(l,h){let f;const u={...d.useContext(lt),...l,layoutId:is(l)},{isStatic:p}=u,m=Un(l),P=r(l,p);if(!p&&Ae){rs();const y=as(u);f=y.MeasureLayout,m.visualElement=ss(t,P,u,o,y.ProjectionNode,i)}return T.jsxs(ct.Provider,{value:m,children:[f&&m.visualElement?T.jsx(f,{visualElement:m.visualElement,...u}):null,qn(t,l,ns(P,m.visualElement,h),P,p,e,i)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=d.forwardRef(a);return c[es]=t,c}function is({layoutId:t}){const e=d.useContext(Lt).id;return e&&t!==void 0?e+"-"+t:t}function rs(t,e){d.useContext(Ve).strict}function as(t){const e=be(),{drag:n,layout:s}=e;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function ls(t,e){if(typeof Proxy>"u")return ft;const n=new Map,s=(i,r)=>ft(i,r,t,e),o=(i,r)=>s(i,r);return new Proxy(o,{get:(i,r)=>r==="create"?s:(n.has(r)||n.set(r,ft(r,void 0,t,e)),n.get(r))})}const cs=(t,e)=>e.isSVG??bt(t)?new pe(e):new ge(e,{allowProjection:t!==d.Fragment});class us extends W{constructor(e){super(e),e.animationState||(e.animationState=sn(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();me(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let fs=0;class hs extends W{constructor(){super(...arguments),this.id=fs++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ds={animation:{Feature:us},exit:{Feature:hs}};function X(t){return{point:{x:t.pageX,y:t.pageY}}}const ms=t=>e=>ye(e)&&t(e,X(e));function $(t,e,n,s){return tt(t,e,ms(n),s)}const Oe=({current:t})=>t?t.ownerDocument.defaultView:null,$t=(t,e)=>Math.abs(t-e);function ps(t,e){const n=$t(t.x,e.x),s=$t(t.y,e.y);return Math.sqrt(n**2+s**2)}const _t=new Set(["auto","scroll"]);class je{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:i=!1,distanceThreshold:r=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=dt(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,P=ps(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!P)return;const{point:y}=p,{timestamp:g}=wt;this.history.push({...y,timestamp:g});const{onStart:v,onMove:E}=this.handlers;m||(v&&v(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=ht(m,this.transformPagePoint),C.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:P,onSessionEnd:y,resumeAnimation:g}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=dt(p.type==="pointercancel"?this.lastMoveEventInfo:ht(m,this.transformPagePoint),this.history);this.startEvent&&P&&P(p,v),y&&y(p,v)},!ye(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=r,this.contextWindow=o||window;const c=X(e),l=ht(c,this.transformPagePoint),{point:h}=l,{timestamp:f}=wt;this.history=[{...h,timestamp:f}];const{onSessionStart:u}=n;u&&u(e,dt(l,this.history)),this.removeListeners=ve($(this.contextWindow,"pointermove",this.handlePointerMove),$(this.contextWindow,"pointerup",this.handlePointerUp),$(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(_t.has(s.overflowX)||_t.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:o.x-n.x,y:o.y-n.y};i.x===0&&i.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,o),C.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),et(this.updatePoint)}}function ht(t,e){return e?{point:e(t.point)}:t}function Xt(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dt({point:t},e){return{point:t,delta:Xt(t,Fe(e)),offset:Xt(t,gs(e)),velocity:ys(e,.1)}}function gs(t){return t[0]}function Fe(t){return t[t.length-1]}function ys(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=Fe(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>xt(e)));)n--;if(!s)return{x:0,y:0};s===t[0]&&t.length>2&&o.timestamp-s.timestamp>xt(e)*2&&(s=t[1]);const i=on(o.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const r={x:(o.x-s.x)/i,y:(o.y-s.y)/i};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function vs(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?_(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?_(n,t,s.max):Math.min(t,n)),t}function Yt(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ps(t,{top:e,left:n,bottom:s,right:o}){return{x:Yt(t.x,n,o),y:Yt(t.y,e,s)}}function Kt(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function ws(t,e){return{x:Kt(t.x,e.x),y:Kt(t.y,e.y)}}function xs(t,e){let n=.5;const s=Et(t),o=Et(e);return o>s?n=nt(e.min,e.max-s,t.min):s>o&&(n=nt(t.min,t.max-o,e.min)),Pe(0,1,n)}function Es(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ct=.35;function Ss(t=Ct){return t===!1?t=0:t===!0&&(t=Ct),{x:qt(t,"left","right"),y:qt(t,"top","bottom")}}function qt(t,e,n){return{min:Jt(t,e),max:Jt(t,n)}}function Jt(t,e){return typeof t=="number"?t:t[e]||0}const Cs=new WeakMap;class Ms{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const i=f=>{n&&this.snapToCursor(X(f).point),this.stopAnimation()},r=(f,u)=>{const{drag:p,dragPropagation:m,onDragStart:P}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fn(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=u,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),k(g=>{let v=this.getAxisMotionValue(g).get()||0;if(hn.test(v)){const{projection:E}=this.visualElement;if(E&&E.layout){const x=E.layout.layoutBox[g];x&&(v=Et(x)*(parseFloat(v)/100))}}this.originPoint[g]=v}),P&&C.update(()=>P(f,u),!1,!0),Ft(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(f,u)=>{this.latestPointerEvent=f,this.latestPanInfo=u;const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:P,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:g}=u;if(m&&this.currentDirection===null){this.currentDirection=Ls(g),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),y&&C.update(()=>y(f,u),!1,!0)},c=(f,u)=>{this.latestPointerEvent=f,this.latestPanInfo=u,this.stop(f,u),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>{const{dragSnapToOrigin:f}=this.getProps();(f||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:h}=this.getProps();this.panSession=new je(e,{onSessionStart:i,onStart:r,onMove:a,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:s,contextWindow:Oe(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!o||!s)return;const{velocity:r}=o;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&C.postRender(()=>a(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!J(e,o,this.currentDirection))return;const i=this.getAxisMotionValue(e);let r=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(r=vs(r,this.constraints[e],this.elastic[e])),i.set(r)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&H(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Ps(s.layoutBox,e):this.constraints=!1,this.elastic=Ss(n),o!==this.constraints&&!H(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&k(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Es(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!H(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=an(s,o.root,this.visualElement.getTransformPagePoint());let r=ws(o.layout.layoutBox,i);if(n){const a=n(ln(r));this.hasMutatedConstraints=!!a,a&&(r=cn(a))}return r}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:i,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=k(h=>{if(!J(h,n,this.currentDirection))return;let f=c&&c[h]||{};r&&(f={min:0,max:0});const u=o?200:1e6,p=o?40:1e7,m={type:"inertia",velocity:s?e[h]:0,bounceStiffness:u,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,m)});return Promise.all(l).then(a)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Ft(this.visualElement,e),s.start(un(e,s,0,n,this.visualElement,!1))}stopAnimation(){k(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){k(n=>{const{drag:s}=this.getProps();if(!J(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:r,max:a}=o.layout.layoutBox[n],c=i.get()||0;i.set(e[n]-_(r,a,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!H(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};k(r=>{const a=this.getAxisMotionValue(r);if(a&&this.constraints!==!1){const c=a.get();o[r]=xs({min:c,max:c},this.constraints[r])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),k(r=>{if(!J(r,e,null))return;const a=this.getAxisMotionValue(r),{min:c,max:l}=this.constraints[r];a.set(_(c,l,o[r]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Cs.set(this.visualElement,this);const e=this.visualElement.current,n=$(e,"pointerdown",l=>{const{drag:h,dragListener:f=!0}=this.getProps(),u=l.target,p=u!==e&&dn(u);h&&f&&!p&&this.start(l)});let s;const o=()=>{const{dragConstraints:l}=this.getProps();H(l)&&l.current&&(this.constraints=this.resolveRefConstraints(),s||(s=As(e,l.current,()=>this.scalePositionWithinConstraints())))},{projection:i}=this.visualElement,r=i.addEventListener("measure",o);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),C.read(o);const a=tt(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:h})=>{this.isDragging&&h&&(k(f=>{const u=this.getAxisMotionValue(f);u&&(this.originPoint[f]+=l[f].translate,u.set(u.get()+l[f].translate))}),this.visualElement.render())}));return()=>{a(),n(),r(),c&&c(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:r=Ct,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:i,dragElastic:r,dragMomentum:a}}}function Zt(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function As(t,e,n){const s=St(t,Zt(n)),o=St(e,Zt(n));return()=>{s(),o()}}function J(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ls(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Vs extends W{constructor(e){super(e),this.removeGroupControls=B,this.removeListeners=B,this.controls=new Ms(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||B}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const mt=t=>(e,n)=>{t&&C.update(()=>t(e,n),!1,!0)};class bs extends W{constructor(){super(...arguments),this.removePointerDownListener=B}onPointerDown(e){this.session=new je(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Oe(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:mt(e),onStart:mt(n),onMove:mt(s),onEnd:(i,r)=>{delete this.session,o&&C.postRender(()=>o(i,r))}}}mount(){this.removePointerDownListener=$(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let pt=!1;class Ds extends d.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),s&&s.register&&o&&s.register(i),pt&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),pn.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:i}=this.props,{projection:r}=s;return r&&(r.isPresent=i,e.layoutDependency!==n&&r.setOptions({...r.options,layoutDependency:n}),pt=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==i?r.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?r.promote():r.relegate()||C.postRender(()=>{const a=r.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mn.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;pt=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function He(t){const[e,n]=Le(),s=d.useContext(Lt);return T.jsx(Ds,{...t,layoutGroup:s,switchLayoutGroup:d.useContext(Re),isPresent:e,safeToRemove:n})}const Ts={pan:{Feature:bs},drag:{Feature:Vs,ProjectionNode:we,MeasureLayout:He}};function Qt(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,i=s[o];i&&C.postRender(()=>i(e,X(e)))}class Is extends W{mount(){const{current:e}=this.node;e&&(this.unmount=gn(e,(n,s)=>(Qt(this.node,s,"Start"),o=>Qt(this.node,o,"End"))))}unmount(){}}class ks extends W{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ve(tt(this.node.current,"focus",()=>this.onFocus()),tt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function te(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),i=s[o];i&&C.postRender(()=>i(e,X(e)))}class Rs extends W{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=yn(e,(o,i)=>(te(this.node,i,"Start"),(r,{success:a})=>te(this.node,r,a?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:s?.tap===!1})}unmount(){}}const Mt=new WeakMap,gt=new WeakMap,Ws=t=>{const e=Mt.get(t.target);e&&e(t)},Os=t=>{t.forEach(Ws)};function js({root:t,...e}){const n=t||document;gt.has(n)||gt.set(n,{});const s=gt.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(Os,{root:t,...e})),s[o]}function Fs(t,e,n){const s=js(e);return Mt.set(t,n),s.observe(t),()=>{Mt.delete(t),s.unobserve(t)}}const Hs={some:0,all:1};class Gs extends W{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:i}=e,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:Hs[o]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),u=l?h:f;u&&u(c)};return Fs(this.node.current,r,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Bs(e,n))&&this.startObserver()}unmount(){}}function Bs({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ns={inView:{Feature:Gs},tap:{Feature:Rs},focus:{Feature:ks},hover:{Feature:Is}},zs={layout:{ProjectionNode:we,MeasureLayout:He}},Us={...ds,...Ns,...Ts,...zs},Fo=ls(Us,cs),$s=50,ee=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),_s=()=>({time:0,x:ee(),y:ee()}),Xs={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function ne(t,e,n,s){const o=n[e],{length:i,position:r}=Xs[e],a=o.current,c=n.time;o.current=t[`scroll${r}`],o.scrollLength=t[`scroll${i}`]-t[`client${i}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=nt(0,o.scrollLength,o.current);const l=s-c;o.velocity=l>$s?0:vn(o.current-a,l)}function Ys(t,e,n){ne(t,"x",e,n),ne(t,"y",e,n),e.time=n}function Ks(t,e){const n={x:0,y:0};let s=t;for(;s&&s!==e;)if(Pt(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const o=s.getBoundingClientRect();s=s.parentElement;const i=s.getBoundingClientRect();n.x+=o.left-i.left,n.y+=o.top-i.top}else if(s instanceof SVGGraphicsElement){const{x:o,y:i}=s.getBBox();n.x+=o,n.y+=i;let r=null,a=s.parentNode;for(;!r;)a.tagName==="svg"&&(r=a),a=s.parentNode;s=r}else break;return n}const At={start:0,center:.5,end:1};function se(t,e,n=0){let s=0;if(t in At&&(t=At[t]),typeof t=="string"){const o=parseFloat(t);t.endsWith("px")?s=o:t.endsWith("%")?t=o/100:t.endsWith("vw")?s=o/100*document.documentElement.clientWidth:t.endsWith("vh")?s=o/100*document.documentElement.clientHeight:t=o}return typeof t=="number"&&(s=e*t),n+s}const qs=[0,0];function Js(t,e,n,s){let o=Array.isArray(t)?t:qs,i=0,r=0;return typeof t=="number"?o=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?o=t.split(" "):o=[t,At[t]?t:"0"]),i=se(o[0],n,s),r=se(o[1],e),i-r}const Zs={All:[[0,0],[1,1]]},Qs={x:0,y:0};function to(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function eo(t,e,n){const{offset:s=Zs.All}=n,{target:o=t,axis:i="y"}=n,r=i==="y"?"height":"width",a=o!==t?Ks(o,t):Qs,c=o===t?{width:t.scrollWidth,height:t.scrollHeight}:to(o),l={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let h=!e[i].interpolate;const f=s.length;for(let u=0;u<f;u++){const p=Js(s[u],l[r],c[r],a[i]);!h&&p!==e[i].interpolatorOffsets[u]&&(h=!0),e[i].offset[u]=p}h&&(e[i].interpolate=Pn(e[i].offset,xe(s),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=Pe(0,1,e[i].interpolate(e[i].current))}function no(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let s=e;for(;s&&s!==t;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function so(t,e,n,s={}){return{measure:o=>{no(t,s.target,n),Ys(t,n,o),(s.offset||s.target)&&eo(t,n,s)},notify:()=>e(n)}}const F=new WeakMap,oe=new WeakMap,yt=new WeakMap,ie=new WeakMap,Z=new WeakMap,re=t=>t===document.scrollingElement?window:t;function Ge(t,{container:e=document.scrollingElement,trackContentSize:n=!1,...s}={}){if(!e)return B;let o=yt.get(e);o||(o=new Set,yt.set(e,o));const i=_s(),r=so(e,t,i,s);if(o.add(r),!F.has(e)){const c=()=>{for(const u of o)u.measure(wt.timestamp);C.preUpdate(l)},l=()=>{for(const u of o)u.notify()},h=()=>C.read(c);F.set(e,h);const f=re(e);window.addEventListener("resize",h,{passive:!0}),e!==document.documentElement&&oe.set(e,St(e,h)),f.addEventListener("scroll",h,{passive:!0}),h()}if(n&&!Z.has(e)){const c=F.get(e),l={width:e.scrollWidth,height:e.scrollHeight};ie.set(e,l);const h=()=>{const u=e.scrollWidth,p=e.scrollHeight;(l.width!==u||l.height!==p)&&(c(),l.width=u,l.height=p)},f=C.read(h,!0);Z.set(e,f)}const a=F.get(e);return C.read(a,!1,!0),()=>{et(a);const c=yt.get(e);if(!c||(c.delete(r),c.size))return;const l=F.get(e);F.delete(e),l&&(re(e).removeEventListener("scroll",l),oe.get(e)?.(),window.removeEventListener("resize",l));const h=Z.get(e);h&&(et(h),Z.delete(e)),ie.delete(e)}}const ae=new Map;function oo(t){const e={value:0},n=Ge(s=>{e.value=s[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function Be({source:t,container:e,...n}){const{axis:s}=n;t&&(e=t);const o=ae.get(e)??new Map;ae.set(e,o);const i=n.target??"self",r=o.get(i)??{},a=s+(n.offset??[]).join(",");return r[a]||(r[a]=!n.target&&wn()?new ScrollTimeline({source:e,axis:s}):oo({container:e,...n})),r[a]}function io(t,e){const n=Be(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:s=>(s.pause(),Ee(o=>{s.time=s.iterationDuration*o},n))})}function ro(t){return t.length===2}function ao(t,e){return ro(t)?Ge(n=>{t(n[e.axis].progress,n)},e):Ee(t,Be(e))}function vt(t,{axis:e="y",container:n=document.scrollingElement,...s}={}){if(!n)return B;const o={axis:e,container:n,...s};return typeof t=="function"?ao(t,o):io(t,o)}const lo=()=>({scrollX:G(0),scrollY:G(0),scrollXProgress:G(0),scrollYProgress:G(0)}),Q=t=>t?!t.current:!1;function Ho({container:t,target:e,...n}={}){const s=R(lo);s.scrollXProgress.accelerate={factory:a=>vt(a,{...n,axis:"x",container:t?.current||void 0,target:e?.current||void 0}),times:[0,1],keyframes:[0,1],ease:a=>a,duration:1},s.scrollYProgress.accelerate={factory:a=>vt(a,{...n,axis:"y",container:t?.current||void 0,target:e?.current||void 0}),times:[0,1],keyframes:[0,1],ease:a=>a,duration:1};const o=d.useRef(null),i=d.useRef(!1),r=d.useCallback(()=>(o.current=vt((a,{x:c,y:l})=>{s.scrollX.set(c.current),s.scrollXProgress.set(c.progress),s.scrollY.set(l.current),s.scrollYProgress.set(l.progress)},{...n,container:t?.current||void 0,target:e?.current||void 0}),()=>{o.current?.()}),[t,e,JSON.stringify(n.offset)]);return rt(()=>{if(i.current=!1,Q(t)||Q(e)){i.current=!0;return}else return r()},[r]),d.useEffect(()=>{if(i.current)return Ht(!Q(t)),Ht(!Q(e)),r()},[r]),s}function co(t){const e=R(()=>G(t)),{isStatic:n}=d.useContext(lt);if(n){const[,s]=d.useState(t);d.useEffect(()=>e.on("change",s),[])}return e}function Ne(t,e){const n=co(e()),s=()=>n.set(e());return s(),rt(()=>{const o=()=>C.preRender(s,!1,!0),i=t.map(r=>r.on("change",o));return()=>{i.forEach(r=>r()),et(s)}}),n}function uo(t){ut.current=[],t();const e=Ne(ut.current,t);return ut.current=void 0,e}function fo(t,e,n,s){if(typeof t=="function")return uo(t);if(n!==void 0&&!Array.isArray(n)&&typeof e!="function")return ho(t,e,n,s);const r=typeof e=="function"?e:xn(e,n,s),a=Array.isArray(t)?le(t,r):le([t],([l])=>r(l)),c=Array.isArray(t)?void 0:t.accelerate;return c&&!c.isTransformed&&typeof e!="function"&&Array.isArray(n)&&s?.clamp!==!1&&(a.accelerate={...c,times:e,keyframes:n,isTransformed:!0}),a}function le(t,e){const n=R(()=>[]);return Ne(t,()=>{n.length=0;const s=t.length;for(let o=0;o<s;o++)n[o]=t[o].get();return e(n)})}function ho(t,e,n,s){const o=R(()=>Object.keys(n)),i=R(()=>({}));for(const r of o)i[r]=fo(t,e,n[r],s);return i}function Dt(t){return typeof t=="object"&&!Array.isArray(t)}function ze(t,e,n,s){return t==null?[]:typeof t=="string"&&Dt(e)?Se(t,n,s):t instanceof NodeList?Array.from(t):Array.isArray(t)?t.filter(o=>o!=null):[t]}function mo(t,e,n){return t*(e+1)}function ce(t,e,n,s){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:e.startsWith("<")?Math.max(0,n+parseFloat(e.slice(1))):s.get(e)??t}function po(t,e,n){for(let s=0;s<t.length;s++){const o=t[s];o.at>e&&o.at<n&&(Me(t,o),s--)}}function go(t,e,n,s,o,i){po(t,o,i);for(let r=0;r<e.length;r++)t.push({value:e[r],at:_(o,i,s[r]),easing:Ce(n,r)})}function yo(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function vo(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const Po="easeInOut";function wo(t,{defaultTransition:e={},...n}={},s,o){const i=e.duration||.3,r=new Map,a=new Map,c={},l=new Map;let h=0,f=0,u=0;for(let p=0;p<t.length;p++){const m=t[p];if(typeof m=="string"){l.set(m,f);continue}else if(!Array.isArray(m)){l.set(m.name,ce(f,m.at,h,l));continue}let[P,y,g={}]=m;g.at!==void 0&&(f=ce(f,g.at,h,l));let v=0;const E=(x,M,L,b=0,S=0)=>{const w=xo(x),{delay:V=0,times:A=xe(w),type:O=e.type||"keyframes",repeat:j,repeatType:ko,repeatDelay:Ro=0,...$e}=M;let{ease:I=e.ease||"easeOut",duration:D}=M;const Tt=typeof V=="function"?V(b,S):V,It=w.length,kt=Cn(O)?O:o?.[O||"keyframes"];if(It<=2&&kt){let N=100;if(It===2&&Co(w)){const z=w[1]-w[0];N=Math.abs(z)}const Y={...e,...$e};D!==void 0&&(Y.duration=xt(D));const K=En(Y,N,kt);I=K.ease,D=K.duration}D??(D=i);const Rt=f+Tt;A.length===1&&A[0]===0&&(A[1]=1);const Wt=A.length-w.length;if(Wt>0&&Sn(A,Wt),w.length===1&&w.unshift(null),j){D=mo(D,j);const N=[...w],Y=[...A];I=Array.isArray(I)?[...I]:[I];const K=[...I];for(let z=0;z<j;z++){w.push(...N);for(let U=0;U<N.length;U++)A.push(Y[U]+(z+1)),I.push(U===0?"linear":Ce(K,U-1))}yo(A,j)}const Ot=Rt+D;go(L,w,I,A,Rt,Ot),v=Math.max(Tt+D,v),u=Math.max(Ot,u)};if(it(P)){const x=ue(P,a);E(y,g,fe("default",x))}else{const x=ze(P,y,s,c),M=x.length;for(let L=0;L<M;L++){y=y,g=g;const b=x[L],S=ue(b,a);for(const w in y)E(y[w],Eo(g,w),fe(w,S),L,M)}}h=f,f+=v}return a.forEach((p,m)=>{for(const P in p){const y=p[P];y.sort(vo);const g=[],v=[],E=[];for(let b=0;b<y.length;b++){const{at:S,value:w,easing:V}=y[b];g.push(w),v.push(nt(0,u,S)),E.push(V||"easeOut")}v[0]!==0&&(v.unshift(0),g.unshift(g[0]),E.unshift(Po)),v[v.length-1]!==1&&(v.push(1),g.push(null)),r.has(m)||r.set(m,{keyframes:{},transition:{}});const x=r.get(m);x.keyframes[P]=g;const{type:M,...L}=e;x.transition[P]={...L,duration:u,ease:E,times:v,...n}}}),r}function ue(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function fe(t,e){return e[t]||(e[t]=[]),e[t]}function xo(t){return Array.isArray(t)?t:[t]}function Eo(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const So=t=>typeof t=="number",Co=t=>t.every(So);function Mo(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Mn(t)&&!An(t)?new pe(e):new ge(e);n.mount(t),st.set(t,n)}function Ao(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Ln(e);n.mount(t),st.set(t,n)}function Lo(t,e){return it(t)||typeof t=="number"||typeof t=="string"&&!Dt(e)}function Ue(t,e,n,s){const o=[];if(Lo(t,e))o.push(Vn(t,Dt(e)&&e.default||e,n&&(n.default||n)));else{if(t==null)return o;const i=ze(t,e,s),r=i.length;for(let a=0;a<r;a++){const c=i[a],l=c instanceof Element?Mo:Ao;st.has(c)||l(c);const h=st.get(c),f={...n};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(a,r)),o.push(...bn(h,{...e,transition:f},{}))}}return o}function Vo(t,e,n){const s=[],o=t.map(r=>{if(Array.isArray(r)&&typeof r[0]=="function"){const a=r[0],c=G(0);return c.on("change",a),r.length===1?[c,[0,1]]:r.length===2?[c,[0,1],r[1]]:[c,r[1],r[2]]}return r});return wo(o,e,n,{spring:Dn}).forEach(({keyframes:r,transition:a},c)=>{s.push(...Ue(c,r,a))}),s}function bo(t){return Array.isArray(t)&&t.some(Array.isArray)}function Do(t={}){const{scope:e,reduceMotion:n}=t;function s(o,i,r){let a=[],c;if(bo(o))a=Vo(o,n!==void 0?{reduceMotion:n,...i}:i,e);else{const{onComplete:h,...f}=r||{};typeof h=="function"&&(c=h),a=Ue(o,i,n!==void 0?{reduceMotion:n,...f}:f,e)}const l=new Tn(a);return c&&l.finished.then(c),e&&(e.animations.push(l),l.finished.then(()=>{Me(e.animations,l)})),l}return s}const Go=Do(),To={some:0,all:1};function Io(t,e,{root:n,margin:s,amount:o="some"}={}){const i=Se(t),r=new WeakMap,a=l=>{l.forEach(h=>{const f=r.get(h.target);if(h.isIntersecting!==!!f)if(h.isIntersecting){const u=e(h.target,h);typeof u=="function"?r.set(h.target,u):c.unobserve(h.target)}else typeof f=="function"&&(f(h),r.delete(h.target))})},c=new IntersectionObserver(a,{root:n,rootMargin:s,threshold:typeof o=="number"?o:To[o]});return i.forEach(l=>c.observe(l)),()=>c.disconnect()}function Bo(t,{root:e,margin:n,amount:s,once:o=!1,initial:i=!1}={}){const[r,a]=d.useState(i);return d.useEffect(()=>{if(!t.current||o&&r)return;const c=()=>(a(!0),o?void 0:()=>a(!1)),l={root:e&&e.current||void 0,margin:n,amount:s};return Io(t.current,c,l)},[e,t,n,o,s]),r}export{jo as A,fo as a,Bo as b,co as c,Go as d,Fo as m,Ho as u};
